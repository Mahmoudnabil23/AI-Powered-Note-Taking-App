<!DOCTYPE html>

<html class="dark" lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Note Editor - Split View</title>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&amp;display=swap" rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
        rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#3713ec",
                        "background-light": "#f6f6f8",
                        "background-dark": "#131022",
                        "surface-dark": "#1e1933",
                        "surface-darker": "#141122",
                        "border-dark": "#292348",
                    },
                    fontFamily: {
                        "display": ["Manrope", "sans-serif"]
                    },
                    borderRadius: {
                        "DEFAULT": "0.25rem",
                        "lg": "0.5rem",
                        "xl": "0.75rem",
                        "2xl": "1rem",
                        "full": "9999px"
                    },
                    animation: {
                        'fade-in-up': 'fadeInUp 0.5s ease-out forwards',
                        'spin': 'spin 1s linear infinite',
                    },
                    keyframes: {
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                },
            },
        }
    </script>
    <style>
        /* Custom scrollbar for editor areas */
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: #292348;
            border-radius: 20px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background-color: #3b3267;
        }

        /* Hide scrollbar for chips container */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Loading overlay */
        .loading-overlay {
            backdrop-filter: blur(4px);
        }
    </style>
</head>

<body
    class="bg-background-light dark:bg-background-dark text-slate-900 dark:text-white font-display overflow-hidden h-screen flex flex-col">
    <!-- Top Navigation Bar -->
    <header
        class="flex items-center justify-between border-b border-gray-200 dark:border-border-dark px-6 py-3 bg-white dark:bg-surface-darker z-20 shrink-0">
        <div class="flex items-center gap-4">
            <!-- Back Button -->
            <button id="back-btn"
                class="flex items-center justify-center size-9 rounded-lg hover:bg-gray-100 dark:hover:bg-[#292348] text-gray-600 dark:text-[#9b92c9] transition-colors"
                title="Back to Dashboard">
                <span class="material-symbols-outlined text-[20px]">arrow_back</span>
            </button>
            <div class="flex items-center justify-center size-8 rounded-lg bg-primary/20 text-primary">
                <span class="material-symbols-outlined text-2xl">auto_awesome</span>
            </div>
            <div>
                <h1 class="text-base font-bold leading-tight dark:text-white flex items-center gap-2">
                    <span id="note-title-text">Untitled Note</span>
                    <input type="text" id="note-title-input"
                        class="hidden bg-transparent border-b border-primary focus:outline-none text-base font-bold dark:text-white w-48"
                        placeholder="Enter note title..." />
                    <span id="edit-title-btn"
                        class="material-symbols-outlined text-gray-400 text-sm cursor-pointer hover:text-white transition-colors">edit</span>
                </h1>
                <p id="last-edited-text" class="text-xs text-gray-500 dark:text-[#9b92c9]">Last edited just now</p>
            </div>
        </div>
        <!-- Save indicator -->
        <div class="flex items-center gap-2 text-xs text-gray-400">
            <span class="material-symbols-outlined text-[16px] text-green-500">check_circle</span>
            <span>Auto-saved</span>
        </div>
    </header>
    <!-- Main Content Area -->
    <main class="flex flex-1 overflow-hidden relative">
        <!-- Left Pane: User Input -->
        <section class="flex-1 flex flex-col min-w-[300px] bg-white dark:bg-surface-darker relative group">
            <!-- Toolbar -->
            <div
                class="flex items-center justify-between px-6 py-3 border-b border-gray-100 dark:border-border-dark/50">
                <div class="flex items-center gap-2 text-gray-400 dark:text-[#9b92c9]">
                    <span class="material-symbols-outlined text-[20px]">format_bold</span>
                    <span class="material-symbols-outlined text-[20px]">format_italic</span>
                    <span class="material-symbols-outlined text-[20px]">format_list_bulleted</span>
                    <span class="material-symbols-outlined text-[20px]">image</span>
                </div>
                <span class="text-xs font-medium text-gray-400 uppercase tracking-wider">Original Input</span>
            </div>
            <!-- Editor -->
            <div class="flex-1 overflow-y-auto custom-scrollbar p-8">
                <textarea id="note-textarea"
                    class="w-full h-full bg-transparent border-0 focus:ring-0 text-gray-800 dark:text-gray-200 text-lg leading-relaxed resize-none p-0 placeholder-gray-300 dark:placeholder-gray-600 font-display"
                    placeholder="Start typing your notes here..."></textarea>
            </div>
        </section>
        <!-- Divider / Resizer Visual -->
        <div
            class="w-[1px] bg-gray-200 dark:bg-border-dark relative flex items-center justify-center z-10 cursor-col-resize hover:bg-primary transition-colors group">
            <div class="absolute w-4 h-full -left-2 z-10"></div> <!-- Hit area -->
            <div class="h-8 w-1 rounded-full bg-gray-300 dark:bg-gray-600 group-hover:bg-primary transition-colors">
            </div>
        </div>
        <!-- Right Pane: AI Output -->
        <section
            class="flex-1 flex flex-col min-w-[300px] bg-gray-50 dark:bg-[#18152a] border-l border-gray-200 dark:border-border-dark relative">
            <!-- Loading Overlay -->
            <div id="loading-overlay"
                class="loading-overlay hidden absolute inset-0 bg-black/30 z-30 flex items-center justify-center">
                <div class="flex flex-col items-center gap-4 p-8 bg-surface-dark rounded-2xl shadow-2xl">
                    <div class="relative">
                        <span class="material-symbols-outlined text-5xl text-primary animate-spin">progress_activity</span>
                    </div>
                    <p class="text-white font-medium">Processing with AI...</p>
                    <p class="text-gray-400 text-sm">This may take a few seconds</p>
                </div>
            </div>
            <!-- AI Toolbar / Mode Selector -->
            <div
                class="flex items-center justify-between px-6 py-3 border-b border-gray-200 dark:border-border-dark/50 bg-gray-50/50 dark:bg-[#18152a]/50 backdrop-blur-sm">
                <!-- Chips -->
                <div class="flex items-center gap-2 overflow-x-auto no-scrollbar">
                    <button data-mode="summarize"
                        class="mode-chip flex items-center gap-1.5 px-3 py-1.5 bg-primary text-white rounded-full text-xs font-bold shadow-lg shadow-primary/25 transition-transform active:scale-95 whitespace-nowrap">
                        <span class="material-symbols-outlined text-[16px]">summarize</span>
                        <span>Summary</span>
                    </button>
                    <button data-mode="expand"
                        class="mode-chip flex items-center gap-1.5 px-3 py-1.5 bg-white dark:bg-border-dark text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-[#3b3267] rounded-full text-xs font-medium border border-gray-200 dark:border-transparent transition-colors whitespace-nowrap">
                        <span class="material-symbols-outlined text-[16px]">unfold_more</span>
                        <span>Expand</span>
                    </button>
                    <button data-mode="critique"
                        class="mode-chip flex items-center gap-1.5 px-3 py-1.5 bg-white dark:bg-border-dark text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-[#3b3267] rounded-full text-xs font-medium border border-gray-200 dark:border-transparent transition-colors whitespace-nowrap">
                        <span class="material-symbols-outlined text-[16px]">school</span>
                        <span>Critique</span>
                    </button>
                    <button data-mode="translate"
                        class="mode-chip flex items-center gap-1.5 px-3 py-1.5 bg-white dark:bg-border-dark text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-[#3b3267] rounded-full text-xs font-medium border border-gray-200 dark:border-transparent transition-colors whitespace-nowrap">
                        <span class="material-symbols-outlined text-[16px]">translate</span>
                        <span>Translate</span>
                    </button>
                    <!-- Language Selector for Translate -->
                    <div class="hidden">
                        <select id="translate-language"
                            class="px-3 py-1.5 bg-white dark:bg-border-dark text-gray-600 dark:text-gray-300 rounded-full text-xs font-medium border border-gray-200 dark:border-transparent focus:ring-primary focus:border-primary">
                            <option value="Arabic">Arabic</option>
                            <option value="Spanish">Spanish</option>
                            <option value="French">French</option>
                            <option value="German">German</option>
                            <option value="Chinese">Chinese</option>
                            <option value="Japanese">Japanese</option>
                            <option value="Korean">Korean</option>
                            <option value="Portuguese">Portuguese</option>
                            <option value="Russian">Russian</option>
                            <option value="Italian">Italian</option>
                        </select>
                    </div>
                </div>
                <div class="flex items-center gap-2 ml-4">
                    <button id="copy-btn" class="text-gray-400 hover:text-primary transition-colors" title="Copy to clipboard">
                        <span class="material-symbols-outlined text-[20px]">content_copy</span>
                    </button>
                    <button id="regenerate-btn" class="text-gray-400 hover:text-primary transition-colors" title="Regenerate">
                        <span class="material-symbols-outlined text-[20px]">refresh</span>
                    </button>
                </div>
            </div>
            <!-- AI Content -->
            <div id="ai-output-container" class="flex-1 overflow-y-auto custom-scrollbar p-8 relative">
                <!-- Subtle Gradient Background Effect -->
                <div
                    class="absolute top-0 right-0 w-full h-64 bg-gradient-to-b from-primary/5 to-transparent pointer-events-none">
                </div>
                <div id="ai-content-area" class="relative z-10 space-y-6">
                    <!-- Initial State / Placeholder -->
                    <div class="flex flex-col items-center justify-center h-full text-center py-16">
                        <div class="w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center mb-6">
                            <span class="material-symbols-outlined text-4xl text-primary">auto_awesome</span>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-2">AI-Powered Assistance</h3>
                        <p class="text-gray-500 dark:text-gray-400 max-w-xs">
                            Write your notes on the left and click "Process with AI" to get intelligent summaries, expansions, critiques, or translations.
                        </p>
                    </div>
                </div>
                <!-- Token Usage / Metadata -->
                <div
                    class="pt-8 mt-8 border-t border-gray-200 dark:border-border-dark flex justify-between items-center text-xs text-gray-400 dark:text-gray-500">
                    <span id="generation-time">Ready to process</span>
                    <span id="token-count"></span>
                </div>
            </div>
        </section>
    </main>
    <!-- Floating Action Footer -->
    <div class="absolute bottom-8 left-1/2 -translate-x-1/2 z-30 drop-shadow-2xl">
        <div
            class="flex items-center gap-2 p-1.5 pl-2 pr-1.5 bg-white dark:bg-[#292348] rounded-xl border border-gray-200 dark:border-[#3b3267] shadow-xl">
            <div class="flex flex-col px-2">
                <span class="text-[10px] uppercase font-bold text-gray-400 tracking-wider">Mode</span>
                <span id="current-mode-text" class="text-xs font-semibold text-gray-800 dark:text-white">Summary</span>
            </div>
            <div class="h-6 w-px bg-gray-200 dark:bg-[#3b3267] mx-1"></div>
            <button id="process-btn"
                class="flex items-center gap-2 h-10 px-5 bg-primary hover:bg-primary/90 text-white text-sm font-bold rounded-lg transition-all shadow-lg shadow-primary/30 group">
                <span class="material-symbols-outlined text-[20px] group-hover:animate-pulse">motion_photos_auto</span>
                <span>Process with AI</span>
            </button>
        </div>
    </div>
    <!-- Link JavaScript -->
    <script src="note_editor.js"></script>
</body>

</html>